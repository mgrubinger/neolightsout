import{f as L,a as b,c as V}from"../chunks/DjNViEsn.js";import"../chunks/CojMeVhh.js";import{b as Z}from"../chunks/FINsTMaC.js";import{c as p,ar as ee,r as d,t as Y,p as E,a as G,f as q,x as P,s as F,aW as te,aX as ae,aY as se,d as l,W as U,j as W,w as oe,$ as re,h as X,u as ie}from"../chunks/qY-uN7Tc.js";import{d as S}from"../chunks/Y5rxD4Vh.js";import{i as B,s as J,b as I}from"../chunks/cI_JtYeh.js";import{e as le,i as ne}from"../chunks/CfATS9j-.js";import{h as ve}from"../chunks/hEStMMey.js";import{i as ce}from"../chunks/Cq6jlWCi.js";import{c as H,m as D,i as h}from"../chunks/BrxiDNgG.js";import{a as ue,s as O}from"../chunks/C5uvx8Ge.js";import{s as j}from"../chunks/BCCEg2A_.js";import{p as fe}from"../chunks/BxVqiOuH.js";var me=L('<button class="knob svelte-1wmwmfc"><!></button>');function he($,o){var t=me();t.__click=function(...n){o.onclick?.apply(this,n)},t.__touchstart=function(...n){o.ontouchstart?.apply(this,n)};var g=p(t);ue(g,()=>o.children??ee),d(t),Y(()=>{O(t,"data-active",o.active),O(t,"aria-label",`${o.active?"light":"dark"} button`)}),b($,t)}S(["click","touchstart"]);var pe=L(`<h2 class="svelte-19zkib8">ðŸŽ‰ðŸŽ‰ðŸŽ‰ Congratulations! ðŸŽ‰ðŸŽ‰ðŸŽ‰</h2> <p style="text-align: center">You made it! You finished all the levels! I hope you enjoyed the game. If you want to play
				again, hit the reset button in <a href="help">Help</a></p> <p>Let others know how you liked it too! <a href="https://twitter.com/intent/tweet/?text=check+out+this+fun+game!&amp;url=https%3A%2F%2Fneolightsout.grooovinger.com" target="_blank" rel="noopener noreferrer">Share on Twitter</a></p>`,1),de=L('<h2 class="svelte-19zkib8"> <br/> </h2> <button class="primary-button">Next Level</button>',1),be=L('<div class="bottombar-element stats svelte-19zkib8"><div class="val svelte-19zkib8"> </div> <div class="label svelte-19zkib8">Level</div></div> <div class="bottombar-element stats svelte-19zkib8"><div class="val svelte-19zkib8"> </div> <div class="label svelte-19zkib8">Moves</div></div>',1),ge=L('<div class="bottombar svelte-19zkib8"><!></div>');function _e($,o){E(o,!0);const t=()=>I(H,"$currentLevel",n),g=()=>I(D,"$moves",n),[n,z]=J();let M=fe(o,"showNextLevelDialog",3,!1);var c=ge(),R=p(c);{var x=v=>{var u=V(),k=q(u);{var w=s=>{var r=pe();P(4),b(s,r)},A=s=>{var r=de(),f=q(r),T=p(f),C=F(T,2);d(f);var K=F(f,2);K.__click=()=>o.loadNextLevel(),Y(()=>{j(T,`You finished Level ${t()+1} `),j(C,` in ${g()??""} moves!`)}),b(s,r)};B(k,s=>{t()+1>=50?s(w):s(A,!1)})}b(v,u)},_=v=>{var u=be(),k=q(u),w=p(k),A=p(w,!0);d(w),P(2),d(k);var s=F(k,2),r=p(s),f=p(r,!0);d(r),P(2),d(s),Y(()=>{j(A,t()+1),j(f,g())}),b(v,u)};B(R,v=>{M()?v(x):v(_,!1)})}d(c),Y(()=>O(c,"data-next-level",M())),b($,c),G(),z()}S(["click"]);var ke=L('<button class="primary-button tiny restart-button svelte-1uha8ag" aria-label="Restart level">â†º</button>'),Le=L('<section id="grid" class="svelte-1uha8ag"><!> <!></section> <!>',1);function Te($,o){E(o,!1);const t=()=>I(h,"$items",z),g=()=>I(D,"$moves",z),n=()=>I(H,"$currentLevel",z),[z,M]=J(),c=U(),R=typeof window<"u"&&window.matchMedia("(pointer: coarse)").matches;let x=!1,_=U(!1);g()==0&&h.loadLevel(n()),Z(async()=>{await se(),l(c)&&x===!1&&k()});let v=(a,e,N)=>{if(l(c))return;N.preventDefault(),N.stopPropagation(),D.increment(),h.toggleActive(e),navigator.vibrate&&navigator.vibrate(100);let i=[],y=e%5,m=Math.floor(e/5);y>0&&y<4?(i.push(e-1),i.push(e+1)):y==0?i.push(e+1):y==4&&i.push(e-1),m>0&&m<4?(i.push(e-5),i.push(e+5)):m==0?i.push(e+5):m==4&&i.push(e-5),i.map(Q=>{h.toggleActive(Q)})},u=a=>{requestAnimationFrame(()=>{h.reset();for(let e=0;e<5;e++)h.setActive(a*5+e,!0);a!=5&&window.setTimeout(()=>{a=a+1,u(a)},80)})},k=()=>{x=!0,u(0),W(_,!0)},w=()=>{D.reset(),H.increment(),h.loadLevel(n()),W(_,!1),x=!1},A=()=>{D.reset(),h.loadLevel(n())};te(()=>t(),()=>{W(c,t().every(a=>a.active===!1))}),ae(),ce();var s=Le();ve("1uha8ag",a=>{oe(()=>{re.title="Play | neo:lights:out"})});var r=q(s),f=p(r);le(f,1,t,ne,(a,e,N)=>{{let i=X(()=>R?null:m=>v(l(e),N,m)),y=X(()=>R?m=>v(l(e),N,m):null);he(a,{get active(){return l(e),ie(()=>l(e).active)},get onclick(){return l(i)},get ontouchstart(){return l(y)}})}});var T=F(f,2);{var C=a=>{var e=ke();e.__click=A,Y(()=>e.disabled=g()==0||l(_)),b(a,e)};B(T,a=>{l(_)||a(C)})}d(r);var K=F(r,2);_e(K,{get showNextLevelDialog(){return l(_)},loadNextLevel:w}),b($,s),G(),M()}S(["click"]);export{Te as component};
